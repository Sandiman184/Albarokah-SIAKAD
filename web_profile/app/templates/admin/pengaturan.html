{% extends "admin/layout.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <div class="card shadow-sm">
            <div class="card-header bg-white">
                <h4 class="mb-0"><i class="fas fa-cogs me-2 text-primary"></i> Pengaturan Website</h4>
            </div>
            <div class="card-body">
                <form method="post" enctype="multipart/form-data">
                    {{ form.hidden_tag() }}
                    
                    <h5 class="text-muted mb-3">Identitas Pesantren</h5>
                    <div class="mb-3">
                        {{ form.nama_pesantren.label(class="form-label") }}
                        {{ form.nama_pesantren(class="form-control") }}
                    </div>
                    <div class="mb-3">
                        {{ form.deskripsi_singkat.label(class="form-label") }}
                        {{ form.deskripsi_singkat(class="form-control", rows="3") }}
                        <div class="form-text">Ditampilkan di footer dan meta description SEO.</div>
                    </div>

                    <h5 class="text-muted mb-3 mt-4">Halaman Utama (Hero Section)</h5>
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            {{ form.hero_title_1.label(class="form-label") }}
                            {{ form.hero_title_1(class="form-control") }}
                        </div>
                        <div class="col-md-4 mb-3">
                            {{ form.hero_title_2.label(class="form-label") }}
                            {{ form.hero_title_2(class="form-control") }}
                        </div>
                        <div class="col-md-4 mb-3">
                            {{ form.hero_title_3.label(class="form-label") }}
                            {{ form.hero_title_3(class="form-control") }}
                        </div>
                    </div>
                    <div class="mb-3">
                        {{ form.hero_subtitle.label(class="form-label") }}
                        {{ form.hero_subtitle(class="form-control", rows="2") }}
                    </div>

                    <h5 class="text-muted mb-3 mt-4">Profil Pesantren</h5>
                    <div class="mb-3">
                        {{ form.sejarah.label(class="form-label") }}
                        {{ form.sejarah(class="form-control wysiwyg-editor", rows="5") }}
                    </div>
                    <div class="mb-3">
                        {{ form.sejarah_gambar.label(class="form-label") }}
                        {{ form.sejarah_gambar(class="form-control") }}
                        {% if pengaturan.sejarah_gambar %}
                            <div class="mt-2">
                                <label>Gambar Saat Ini:</label><br>
                                <img src="{{ pengaturan.sejarah_gambar }}" alt="Sejarah" class="img-thumbnail" style="max-height: 200px;">
                            </div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        {{ form.sejarah_gambar_url.label(class="form-label") }}
                        {{ form.sejarah_gambar_url(class="form-control", placeholder="https://...") }}
                        <small class="text-muted">Jika menggunakan gambar dari File Manager, paste URL di sini dan biarkan upload kosong.</small>
                    </div>

                    <div class="mb-3">
                        {{ form.struktur_organisasi_gambar.label(class="form-label") }}
                        {{ form.struktur_organisasi_gambar(class="form-control") }}
                        {% if pengaturan.struktur_organisasi_gambar %}
                            <div class="mt-2">
                                <label>Gambar Struktur Organisasi Saat Ini:</label><br>
                                <img src="{{ pengaturan.struktur_organisasi_gambar }}" alt="Struktur Organisasi" class="img-thumbnail" style="max-height: 300px;">
                            </div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        {{ form.struktur_organisasi_gambar_url.label(class="form-label") }}
                        {{ form.struktur_organisasi_gambar_url(class="form-control", placeholder="https://...") }}
                        <small class="text-muted">Jika menggunakan gambar dari File Manager, paste URL di sini dan biarkan upload kosong.</small>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            {{ form.visi.label(class="form-label") }}
                            {{ form.visi(class="form-control wysiwyg-editor", rows="5") }}
                        </div>
                        <div class="col-md-6 mb-3">
                            {{ form.misi.label(class="form-label") }}
                            {{ form.misi(class="form-control wysiwyg-editor", rows="5") }}
                        </div>
                    </div>

                    <h5 class="text-muted mb-3 mt-4">Statistik Pesantren</h5>
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            {{ form.jumlah_santri.label(class="form-label") }}
                            {{ form.jumlah_santri(class="form-control", type="number") }}
                        </div>
                        <div class="col-md-3 mb-3">
                            {{ form.jumlah_alumni.label(class="form-label") }}
                            {{ form.jumlah_alumni(class="form-control", type="number") }}
                        </div>
                        <div class="col-md-3 mb-3">
                            {{ form.jumlah_ustadz.label(class="form-label") }}
                            {{ form.jumlah_ustadz(class="form-control", type="number") }}
                        </div>
                        <div class="col-md-3 mb-3">
                            {{ form.jumlah_kitab.label(class="form-label") }}
                            {{ form.jumlah_kitab(class="form-control", type="number") }}
                        </div>
                    </div>

                    <h5 class="text-muted mb-3 mt-4">Kontak</h5>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            {{ form.telepon.label(class="form-label") }}
                            {{ form.telepon(class="form-control") }}
                        </div>
                        <div class="col-md-6 mb-3">
                            {{ form.email.label(class="form-label") }}
                            {{ form.email(class="form-control") }}
                        </div>
                    </div>
                    <div class="mb-3">
                        {{ form.alamat.label(class="form-label") }}
                        {{ form.alamat(class="form-control", rows="3") }}
                    </div>
                    <div class="mb-3">
                        {{ form.maps_embed.label(class="form-label") }}
                        {{ form.maps_embed(class="form-control", rows="3") }}
                        <div class="form-text">Paste kode iframe Google Maps di sini.</div>
                    </div>
                    <div class="mb-3">
                        {{ form.maps_link.label(class="form-label") }}
                        {{ form.maps_link(class="form-control") }}
                        <div class="form-text">Link Google Maps untuk tombol di footer.</div>
                    </div>

                    <h5 class="text-muted mb-3 mt-4">Media Sosial</h5>
                    <div class="mb-3">
                        <div class="input-group">
                            <span class="input-group-text"><i class="fab fa-facebook-f"></i></span>
                            {{ form.facebook(class="form-control", placeholder="Link Facebook") }}
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="input-group">
                            <span class="input-group-text"><i class="fab fa-instagram"></i></span>
                            {{ form.instagram(class="form-control", placeholder="Link Instagram") }}
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="input-group">
                            <span class="input-group-text"><i class="fab fa-tiktok"></i></span>
                            {{ form.tiktok(class="form-control", placeholder="Link TikTok") }}
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="input-group">
                            <span class="input-group-text"><i class="fab fa-youtube"></i></span>
                            {{ form.youtube(class="form-control", placeholder="Link YouTube") }}
                        </div>
                    </div>

                    <div class="d-grid gap-2 mt-4">
                        {{ form.submit(class="btn btn-primary btn-lg") }}
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
